/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Scala application project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/7.4.2/userguide/building_java_projects.html
 * This project uses @Incubating APIs which are subject to change.
 */

plugins {
    // Apply the scala Plugin to add support for Scala.
    id 'scala'

    // Apply the application plugin to add support for building a CLI application in Java.
    id 'application'

    // Apply the javafx plugin to add support for JavaFX
    id 'org.openjfx.javafxplugin' version '0.0.13'
}

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}

sourceSets {
    main {
        scala {
            srcDirs = ['src/main/scala']
        }
        resources {
            srcDirs = ['src/main/resources']
        }
    }
    test {
        scala {
            srcDirs = ['test/scala']
        }
        resources {
            srcDirs = ['test/resources']
        }
    }
}

dependencies {
    // Use Scala 2.13 in our library project
    implementation 'org.scala-lang:scala-library:2.13.8'

    // https://mvnrepository.com/artifact/org.openjfx/javafx
    implementation group: 'org.openjfx', name: 'javafx', version: '18', ext: 'pom'

    implementation platform("com.typesafe.akka:akka-bom_2.13:2.6.19")

    implementation "com.typesafe.akka:akka-cluster_2.13"

    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.0.1'
}

testing {
    suites {
        // Configure the built-in test suite
        test {
            // Use JUnit4 test framework
            useJUnit('4.13.2')

            dependencies {
                // Use Scalatest for testing our library
                implementation 'org.scalatest:scalatest_2.13:3.2.10'
                implementation 'org.scalatestplus:junit-4-13_2.13:3.2.2.0'

                // Need scala-xml at test runtime
                runtimeOnly 'org.scala-lang.modules:scala-xml_2.13:1.2.0'
            }
        }
    }
}

application {
    // Define the main class for the application.
    mainClass = 'kv24.irc.App'
}

javafx {
    version = '18'
    modules = [ 'javafx.controls', 'javafx.fxml' ]
}
